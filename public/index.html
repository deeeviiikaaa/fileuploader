<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles.css">

    <title>File Upload</title>
</head>

<body>
    <div id="header-box">
        <h1>FILE UPLOADER</h1>
    </div>
    <h1>Upload Your File!</h1>
    <form action="/upload" method="POST" enctype="multipart/form-data" onsubmit="return uploadFile(event)">
        <input type="file" name="file">
        <button type="submit">Upload</button>
    </form>

    <!-- Success message container -->
    <div id="success-message" style="display: none;">File uploaded successfully!</div>

    <script>
        const successMessage = document.getElementById("success-message");

        async function uploadFile(event) {
            event.preventDefault();

            const form = event.target;
            const formData = new FormData(form);

            try {
                const response = await fetch('/upload', {
                    method: 'POST',
                    body: formData,
                });

                if (response.ok) {
                    successMessage.style.display = "block";
                    setTimeout(() => {
                        successMessage.style.display = "none";
                    }, 3000);
                } else {

                    console.error('File upload failed');
                }
            } catch (error) {
                console.error('An error occurred:', error);
            }
        }
    </script>
</body>
<footer>
    <p>Made by Devika Parag Patil</p>
</footer>

</html>